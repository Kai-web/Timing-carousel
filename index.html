<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>定时器切换图片练习</title>
    <style>
        img {
            display: block;
            width: 800px;
            margin: 50px auto;
        }
        #btn {
            text-align: center;
        }
    </style>
    <script>
        window.onload = function(){
            // 获取img1
            var img1 = document.getElementById("img1");
            // 创建一个数组保存图片的路径
            var imgArr = ["./img/banner3.webp", "./img/banner4.webp", "./img/banner5.webp"]
            // 创建一个变量，用来保存当前图片的索引
            var index = 0;
            // 定义一个全局变量，用来保存定时器的标识
            var timer;
            // 为btn1绑定一个单击响应函数
            var btn1 = document.getElementById("btn1");
            /* 
                每点击一次开启按钮，就会开启一个定时器，多次点击开启多个，导致图片切换速度加快
                所以在开启定时器之前，需要将上一个btn1按钮的定时器关闭
            */ 
            btn1.onclick = function(){
                // 关闭上一个定时器，解决图片切换加快
                clearInterval(timer);
                // 开启一个定时器，来自动切换图片
                timer = setInterval(function(){
                    // 索引自增
                    index++;
                    // 判断索引是否超过最大索引
                    if(index>=imgArr.length){
                        index = 0;
                    }
                    // 修改img1的src属性
                    img1.src = imgArr[index];
                }, 1400);
            };
            var btn2 = document.getElementById("btn2");
            btn2.onclick = function(){
                // 单击按钮以后暂停图片切换
                /* 
                clearInterval();可以接收任意参数
                    如果参数是一个有效的定时器标识，则会停止对应的定时器
                    如果参数不是一个有效的标识，则什么也不做
                */
                clearInterval(timer);
            }
        }
    </script>
</head>
<body>
    <img id="img1" src="./img/banner3.webp" alt="定时器切换图片练习" title="定时器切换图片练习">
    <div id="btn">
        <button id="btn1">开启图片轮播</button>
        <button id="btn2">暂停图片轮播</button>
    </div>
    
</body>
</html>